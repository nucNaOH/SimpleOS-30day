     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_init_gdtidt
     7 00000000                                 	EXTERN	_init_pic
     8 00000000                                 	EXTERN	_io_sti
     9 00000000                                 	EXTERN	_keyfifo
    10 00000000                                 	EXTERN	_fifo8_init
    11 00000000                                 	EXTERN	_mousefifo
    12 00000000                                 	EXTERN	_init_pit
    13 00000000                                 	EXTERN	_io_out8
    14 00000000                                 	EXTERN	_timer_alloc
    15 00000000                                 	EXTERN	_timer_init
    16 00000000                                 	EXTERN	_timer_settime
    17 00000000                                 	EXTERN	_init_keyboard
    18 00000000                                 	EXTERN	_enable_mouse
    19 00000000                                 	EXTERN	_memtest_sub
    20 00000000                                 	EXTERN	_memman_init
    21 00000000                                 	EXTERN	_memman_free
    22 00000000                                 	EXTERN	_init_palette
    23 00000000                                 	EXTERN	_shtctl_init
    24 00000000                                 	EXTERN	_sheet_alloc
    25 00000000                                 	EXTERN	_memman_alloc_4k
    26 00000000                                 	EXTERN	_sheet_setbuf
    27 00000000                                 	EXTERN	_init_screen8
    28 00000000                                 	EXTERN	_init_mouse_cursor8
    29 00000000                                 	EXTERN	_make_window8
    30 00000000                                 	EXTERN	_sheet_slide
    31 00000000                                 	EXTERN	_sheet_updown
    32 00000000                                 	EXTERN	_putfonts8_asc
    33 00000000                                 	EXTERN	_sprintf
    34 00000000                                 	EXTERN	_memman_total
    35 00000000                                 	EXTERN	_sheet_refresh
    36 00000000                                 	EXTERN	_io_cli
    37 00000000                                 	EXTERN	_fifo8_status
    38 00000000                                 	EXTERN	_fifo8_get
    39 00000000                                 	EXTERN	_boxfill8
    40 00000000                                 	EXTERN	_mouse_decode
    41 00000000                                 [FILE "bootpack.c"]
    42                                          [SECTION .data]
    43 00000000                                 LC0:
    44 00000000 66 79 74 00                     	DB	"fyt",0x00
    45 00000004                                 LC1:
    46 00000004 66 79 74 2C 20 49 20 6C 6F 76   	DB	"fyt, I love you~",0x00
       0000000E 65 20 79 6F 75 7E 00 
    47 00000015                                 LC2:
    48 00000015 28 25 64 2C 25 64 29 00         	DB	"(%d,%d)",0x00
    49 0000001D                                 LC3:
    50 0000001D 4D 65 6D 6F 72 79 20 25 64 4D   	DB	"Memory %dMB; free: %dKB.",0x00
       00000027 42 3B 20 66 72 65 65 3A 20 25 
       00000031 64 4B 42 2E 00 
    51 00000036                                 LC9:
    52 00000036 33 20 5B 73 65 63 5D 00         	DB	"3 [sec]",0x00
    53 0000003E                                 LC7:
    54 0000003E 31 30 20 5B 73 65 63 5D 00      	DB	"10 [sec]",0x00
    55 00000047                                 LC8:
    56 00000047 25 30 31 30 64 00               	DB	"%010d",0x00
    57 0000004D                                 LC5:
    58 0000004D 5B 6C 63 72 20 25 34 64 20 25   	DB	"[lcr %4d %4d]",0x00
       00000057 34 64 5D 00 
    59 0000005B                                 LC6:
    60 0000005B 28 25 33 64 2C 20 25 33 64 29   	DB	"(%3d, %3d)",0x00
       00000065 00 
    61 00000066                                 LC4:
    62 00000066 25 30 32 58 00                  	DB	"%02X",0x00
    63                                          [SECTION .text]
    64 00000000                                 	GLOBAL	_HariMain
    65 00000000                                 _HariMain:
    66 00000000 55                              	PUSH	EBP
    67 00000001 89 E5                           	MOV	EBP,ESP
    68 00000003 57                              	PUSH	EDI
    69 00000004 56                              	PUSH	ESI
    70 00000005 53                              	PUSH	EBX
    71 00000006 8D B5 FFFFFCF4                  	LEA	ESI,DWORD [-780+EBP]
    72 0000000C 81 EC 00000330                  	SUB	ESP,816
    73 00000012 C7 85 FFFFFCE0 00000000         	MOV	DWORD [-800+EBP],0
    74 0000001C E8 [00000000]                   	CALL	_init_gdtidt
    75 00000021 E8 [00000000]                   	CALL	_init_pic
    76 00000026 E8 [00000000]                   	CALL	_io_sti
    77 0000002B 8D 85 FFFFFEA4                  	LEA	EAX,DWORD [-348+EBP]
    78 00000031 50                              	PUSH	EAX
    79 00000032 6A 20                           	PUSH	32
    80 00000034 68 [00000000]                   	PUSH	_keyfifo
    81 00000039 E8 [00000000]                   	CALL	_fifo8_init
    82 0000003E 8D 85 FFFFFE24                  	LEA	EAX,DWORD [-476+EBP]
    83 00000044 50                              	PUSH	EAX
    84 00000045 68 00000080                     	PUSH	128
    85 0000004A 68 [00000000]                   	PUSH	_mousefifo
    86 0000004F E8 [00000000]                   	CALL	_fifo8_init
    87 00000054 E8 [00000000]                   	CALL	_init_pit
    88 00000059 68 000000F8                     	PUSH	248
    89 0000005E 6A 21                           	PUSH	33
    90 00000060 E8 [00000000]                   	CALL	_io_out8
    91 00000065 83 C4 20                        	ADD	ESP,32
    92 00000068 68 000000EF                     	PUSH	239
    93 0000006D 68 000000A1                     	PUSH	161
    94 00000072 E8 [00000000]                   	CALL	_io_out8
    95 00000077 8D 85 FFFFFCEC                  	LEA	EAX,DWORD [-788+EBP]
    96 0000007D 50                              	PUSH	EAX
    97 0000007E 6A 08                           	PUSH	8
    98 00000080 56                              	PUSH	ESI
    99 00000081 E8 [00000000]                   	CALL	_fifo8_init
   100 00000086 E8 [00000000]                   	CALL	_timer_alloc
   101 0000008B 6A 0A                           	PUSH	10
   102 0000008D 56                              	PUSH	ESI
   103 0000008E 89 C3                           	MOV	EBX,EAX
   104 00000090 50                              	PUSH	EAX
   105 00000091 E8 [00000000]                   	CALL	_timer_init
   106 00000096 83 C4 20                        	ADD	ESP,32
   107 00000099 68 000003E8                     	PUSH	1000
   108 0000009E 53                              	PUSH	EBX
   109 0000009F E8 [00000000]                   	CALL	_timer_settime
   110 000000A4 E8 [00000000]                   	CALL	_timer_alloc
   111 000000A9 6A 03                           	PUSH	3
   112 000000AB 56                              	PUSH	ESI
   113 000000AC 89 C3                           	MOV	EBX,EAX
   114 000000AE 50                              	PUSH	EAX
   115 000000AF E8 [00000000]                   	CALL	_timer_init
   116 000000B4 68 0000012C                     	PUSH	300
   117 000000B9 53                              	PUSH	EBX
   118 000000BA E8 [00000000]                   	CALL	_timer_settime
   119 000000BF E8 [00000000]                   	CALL	_timer_alloc
   120 000000C4 6A 01                           	PUSH	1
   121 000000C6 56                              	PUSH	ESI
   122 000000C7 50                              	PUSH	EAX
   123 000000C8 89 85 FFFFFCCC                  	MOV	DWORD [-820+EBP],EAX
   124 000000CE E8 [00000000]                   	CALL	_timer_init
   125 000000D3 83 C4 28                        	ADD	ESP,40
   126 000000D6 6A 32                           	PUSH	50
   127 000000D8 FF B5 FFFFFCCC                  	PUSH	DWORD [-820+EBP]
   128 000000DE E8 [00000000]                   	CALL	_timer_settime
   129 000000E3 E8 [00000000]                   	CALL	_init_keyboard
   130 000000E8 8D 85 FFFFFE14                  	LEA	EAX,DWORD [-492+EBP]
   131 000000EE 50                              	PUSH	EAX
   132 000000EF E8 [00000000]                   	CALL	_enable_mouse
   133 000000F4 68 BFFFFFFF                     	PUSH	-1073741825
   134 000000F9 68 00400000                     	PUSH	4194304
   135 000000FE E8 [00000000]                   	CALL	_memtest_sub
   136 00000103 68 003C0000                     	PUSH	3932160
   137 00000108 89 85 FFFFFCE4                  	MOV	DWORD [-796+EBP],EAX
   138 0000010E E8 [00000000]                   	CALL	_memman_init
   139 00000113 68 0009E000                     	PUSH	647168
   140 00000118 68 00001000                     	PUSH	4096
   141 0000011D 68 003C0000                     	PUSH	3932160
   142 00000122 E8 [00000000]                   	CALL	_memman_free
   143 00000127 8B 85 FFFFFCE4                  	MOV	EAX,DWORD [-796+EBP]
   144 0000012D 83 C4 24                        	ADD	ESP,36
   145 00000130 2D 00400000                     	SUB	EAX,4194304
   146 00000135 50                              	PUSH	EAX
   147 00000136 68 00400000                     	PUSH	4194304
   148 0000013B 68 003C0000                     	PUSH	3932160
   149 00000140 E8 [00000000]                   	CALL	_memman_free
   150 00000145 E8 [00000000]                   	CALL	_init_palette
   151 0000014A 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   152 00000151 50                              	PUSH	EAX
   153 00000152 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   154 00000159 50                              	PUSH	EAX
   155 0000015A FF 35 00000FF8                  	PUSH	DWORD [4088]
   156 00000160 68 003C0000                     	PUSH	3932160
   157 00000165 E8 [00000000]                   	CALL	_shtctl_init
   158 0000016A 89 C3                           	MOV	EBX,EAX
   159 0000016C 50                              	PUSH	EAX
   160 0000016D E8 [00000000]                   	CALL	_sheet_alloc
   161 00000172 83 C4 20                        	ADD	ESP,32
   162 00000175 53                              	PUSH	EBX
   163 00000176 89 85 FFFFFCDC                  	MOV	DWORD [-804+EBP],EAX
   164 0000017C E8 [00000000]                   	CALL	_sheet_alloc
   165 00000181 53                              	PUSH	EBX
   166 00000182 8D 9D FFFFFD14                  	LEA	EBX,DWORD [-748+EBP]
   167 00000188 89 85 FFFFFCD8                  	MOV	DWORD [-808+EBP],EAX
   168 0000018E E8 [00000000]                   	CALL	_sheet_alloc
   169 00000193 0F BF 15 00000FF6               	MOVSX	EDX,WORD [4086]
   170 0000019A 89 85 FFFFFCD4                  	MOV	DWORD [-812+EBP],EAX
   171 000001A0 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   172 000001A7 0F AF C2                        	IMUL	EAX,EDX
   173 000001AA 50                              	PUSH	EAX
   174 000001AB 68 003C0000                     	PUSH	3932160
   175 000001B0 E8 [00000000]                   	CALL	_memman_alloc_4k
   176 000001B5 68 00003200                     	PUSH	12800
   177 000001BA 68 003C0000                     	PUSH	3932160
   178 000001BF 89 85 FFFFFCD0                  	MOV	DWORD [-816+EBP],EAX
   179 000001C5 E8 [00000000]                   	CALL	_memman_alloc_4k
   180 000001CA 6A FF                           	PUSH	-1
   181 000001CC 89 C6                           	MOV	ESI,EAX
   182 000001CE 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   183 000001D5 50                              	PUSH	EAX
   184 000001D6 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   185 000001DD 50                              	PUSH	EAX
   186 000001DE FF B5 FFFFFCD0                  	PUSH	DWORD [-816+EBP]
   187 000001E4 FF B5 FFFFFCDC                  	PUSH	DWORD [-804+EBP]
   188 000001EA E8 [00000000]                   	CALL	_sheet_setbuf
   189 000001EF 83 C4 2C                        	ADD	ESP,44
   190 000001F2 6A 63                           	PUSH	99
   191 000001F4 6A 10                           	PUSH	16
   192 000001F6 6A 10                           	PUSH	16
   193 000001F8 53                              	PUSH	EBX
   194 000001F9 FF B5 FFFFFCD8                  	PUSH	DWORD [-808+EBP]
   195 000001FF E8 [00000000]                   	CALL	_sheet_setbuf
   196 00000204 6A FF                           	PUSH	-1
   197 00000206 6A 50                           	PUSH	80
   198 00000208 68 000000A0                     	PUSH	160
   199 0000020D 56                              	PUSH	ESI
   200 0000020E FF B5 FFFFFCD4                  	PUSH	DWORD [-812+EBP]
   201 00000214 E8 [00000000]                   	CALL	_sheet_setbuf
   202 00000219 83 C4 28                        	ADD	ESP,40
   203 0000021C 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   204 00000223 50                              	PUSH	EAX
   205 00000224 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   206 0000022B 50                              	PUSH	EAX
   207 0000022C FF B5 FFFFFCD0                  	PUSH	DWORD [-816+EBP]
   208 00000232 E8 [00000000]                   	CALL	_init_screen8
   209 00000237 6A 63                           	PUSH	99
   210 00000239 53                              	PUSH	EBX
   211 0000023A BB 00000002                     	MOV	EBX,2
   212 0000023F E8 [00000000]                   	CALL	_init_mouse_cursor8
   213 00000244 68 [00000000]                   	PUSH	LC0
   214 00000249 6A 50                           	PUSH	80
   215 0000024B 68 000000A0                     	PUSH	160
   216 00000250 56                              	PUSH	ESI
   217 00000251 E8 [00000000]                   	CALL	_make_window8
   218 00000256 83 C4 24                        	ADD	ESP,36
   219 00000259 6A 00                           	PUSH	0
   220 0000025B 6A 00                           	PUSH	0
   221 0000025D FF B5 FFFFFCDC                  	PUSH	DWORD [-804+EBP]
   222 00000263 E8 [00000000]                   	CALL	_sheet_slide
   223 00000268 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   224 0000026F 8D 48 F0                        	LEA	ECX,DWORD [-16+EAX]
   225 00000272 89 C8                           	MOV	EAX,ECX
   226 00000274 99                              	CDQ
   227 00000275 F7 FB                           	IDIV	EBX
   228 00000277 89 85 FFFFFCE8                  	MOV	DWORD [-792+EBP],EAX
   229 0000027D 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   230 00000284 8D 48 D4                        	LEA	ECX,DWORD [-44+EAX]
   231 00000287 89 C8                           	MOV	EAX,ECX
   232 00000289 99                              	CDQ
   233 0000028A F7 FB                           	IDIV	EBX
   234 0000028C 50                              	PUSH	EAX
   235 0000028D 89 C7                           	MOV	EDI,EAX
   236 0000028F FF B5 FFFFFCE8                  	PUSH	DWORD [-792+EBP]
   237 00000295 FF B5 FFFFFCD8                  	PUSH	DWORD [-808+EBP]
   238 0000029B 8D 5D C4                        	LEA	EBX,DWORD [-60+EBP]
   239 0000029E E8 [00000000]                   	CALL	_sheet_slide
   240 000002A3 6A 48                           	PUSH	72
   241 000002A5 6A 50                           	PUSH	80
   242 000002A7 FF B5 FFFFFCD4                  	PUSH	DWORD [-812+EBP]
   243 000002AD E8 [00000000]                   	CALL	_sheet_slide
   244 000002B2 83 C4 24                        	ADD	ESP,36
   245 000002B5 6A 00                           	PUSH	0
   246 000002B7 FF B5 FFFFFCDC                  	PUSH	DWORD [-804+EBP]
   247 000002BD E8 [00000000]                   	CALL	_sheet_updown
   248 000002C2 6A 01                           	PUSH	1
   249 000002C4 FF B5 FFFFFCD4                  	PUSH	DWORD [-812+EBP]
   250 000002CA E8 [00000000]                   	CALL	_sheet_updown
   251 000002CF 6A 02                           	PUSH	2
   252 000002D1 FF B5 FFFFFCD8                  	PUSH	DWORD [-808+EBP]
   253 000002D7 E8 [00000000]                   	CALL	_sheet_updown
   254 000002DC 68 [00000004]                   	PUSH	LC1
   255 000002E1 6A 02                           	PUSH	2
   256 000002E3 68 000000A8                     	PUSH	168
   257 000002E8 6A 6C                           	PUSH	108
   258 000002EA 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   259 000002F1 50                              	PUSH	EAX
   260 000002F2 FF B5 FFFFFCDC                  	PUSH	DWORD [-804+EBP]
   261 000002F8 E8 [00000000]                   	CALL	_putfonts8_asc
   262 000002FD 83 C4 30                        	ADD	ESP,48
   263 00000300 57                              	PUSH	EDI
   264 00000301 FF B5 FFFFFCE8                  	PUSH	DWORD [-792+EBP]
   265 00000307 68 [00000015]                   	PUSH	LC2
   266 0000030C 53                              	PUSH	EBX
   267 0000030D E8 [00000000]                   	CALL	_sprintf
   268 00000312 53                              	PUSH	EBX
   269 00000313 6A 01                           	PUSH	1
   270 00000315 6A 64                           	PUSH	100
   271 00000317 6A 10                           	PUSH	16
   272 00000319 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   273 00000320 50                              	PUSH	EAX
   274 00000321 FF B5 FFFFFCD0                  	PUSH	DWORD [-816+EBP]
   275 00000327 E8 [00000000]                   	CALL	_putfonts8_asc
   276 0000032C 83 C4 28                        	ADD	ESP,40
   277 0000032F 68 003C0000                     	PUSH	3932160
   278 00000334 E8 [00000000]                   	CALL	_memman_total
   279 00000339 C1 E8 0A                        	SHR	EAX,10
   280 0000033C C1 AD FFFFFCE4 14               	SHR	DWORD [-796+EBP],20
   281 00000343 89 04 24                        	MOV	DWORD [ESP],EAX
   282 00000346 FF B5 FFFFFCE4                  	PUSH	DWORD [-796+EBP]
   283 0000034C 68 [0000001D]                   	PUSH	LC3
   284 00000351 53                              	PUSH	EBX
   285 00000352 E8 [00000000]                   	CALL	_sprintf
   286 00000357 53                              	PUSH	EBX
   287 00000358 6A 07                           	PUSH	7
   288 0000035A 6A 40                           	PUSH	64
   289 0000035C 6A 00                           	PUSH	0
   290 0000035E 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   291 00000365 50                              	PUSH	EAX
   292 00000366 FF B5 FFFFFCD0                  	PUSH	DWORD [-816+EBP]
   293 0000036C E8 [00000000]                   	CALL	_putfonts8_asc
   294 00000371 83 C4 28                        	ADD	ESP,40
   295 00000374 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   296 0000037B 50                              	PUSH	EAX
   297 0000037C 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   298 00000383 50                              	PUSH	EAX
   299 00000384 6A 00                           	PUSH	0
   300 00000386 6A 00                           	PUSH	0
   301 00000388 FF B5 FFFFFCDC                  	PUSH	DWORD [-804+EBP]
   302 0000038E E8 [00000000]                   	CALL	_sheet_refresh
   303 00000393 83 C4 14                        	ADD	ESP,20
   304 00000396                                 L2:
   305 00000396 FF 85 FFFFFCE0                  	INC	DWORD [-800+EBP]
   306 0000039C 8D B5 FFFFFCF4                  	LEA	ESI,DWORD [-780+EBP]
   307 000003A2 E8 [00000000]                   	CALL	_io_cli
   308 000003A7 68 [00000000]                   	PUSH	_keyfifo
   309 000003AC E8 [00000000]                   	CALL	_fifo8_status
   310 000003B1 68 [00000000]                   	PUSH	_mousefifo
   311 000003B6 89 C3                           	MOV	EBX,EAX
   312 000003B8 E8 [00000000]                   	CALL	_fifo8_status
   313 000003BD 56                              	PUSH	ESI
   314 000003BE 01 C3                           	ADD	EBX,EAX
   315 000003C0 E8 [00000000]                   	CALL	_fifo8_status
   316 000003C5 83 C4 0C                        	ADD	ESP,12
   317 000003C8 8D 04 18                        	LEA	EAX,DWORD [EAX+EBX*1]
   318 000003CB 85 C0                           	TEST	EAX,EAX
   319 000003CD 0F 84 00000292                  	JE	L28
   320 000003D3 68 [00000000]                   	PUSH	_keyfifo
   321 000003D8 E8 [00000000]                   	CALL	_fifo8_status
   322 000003DD 5B                              	POP	EBX
   323 000003DE 85 C0                           	TEST	EAX,EAX
   324 000003E0 0F 85 00000241                  	JNE	L29
   325 000003E6 68 [00000000]                   	PUSH	_mousefifo
   326 000003EB E8 [00000000]                   	CALL	_fifo8_status
   327 000003F0 59                              	POP	ECX
   328 000003F1 85 C0                           	TEST	EAX,EAX
   329 000003F3 0F 85 00000116                  	JNE	L30
   330 000003F9 56                              	PUSH	ESI
   331 000003FA E8 [00000000]                   	CALL	_fifo8_status
   332 000003FF 5A                              	POP	EDX
   333 00000400 85 C0                           	TEST	EAX,EAX
   334 00000402 74 92                           	JE	L2
   335 00000404 56                              	PUSH	ESI
   336 00000405 E8 [00000000]                   	CALL	_fifo8_get
   337 0000040A 89 C3                           	MOV	EBX,EAX
   338 0000040C E8 [00000000]                   	CALL	_io_sti
   339 00000411 58                              	POP	EAX
   340 00000412 83 FB 0A                        	CMP	EBX,10
   341 00000415 0F 84 000000A8                  	JE	L31
   342 0000041B 83 FB 03                        	CMP	EBX,3
   343 0000041E 74 7D                           	JE	L32
   344 00000420 85 DB                           	TEST	EBX,EBX
   345 00000422 74 5C                           	JE	L24
   346 00000424 6A 00                           	PUSH	0
   347 00000426 56                              	PUSH	ESI
   348 00000427 FF B5 FFFFFCCC                  	PUSH	DWORD [-820+EBP]
   349 0000042D E8 [00000000]                   	CALL	_timer_init
   350 00000432 68 00000080                     	PUSH	128
   351 00000437 6A 0F                           	PUSH	15
   352 00000439 6A 70                           	PUSH	112
   353 0000043B 6A 08                           	PUSH	8
   354 0000043D 6A 07                           	PUSH	7
   355 0000043F                                 L27:
   356 0000043F 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   357 00000446 50                              	PUSH	EAX
   358 00000447 FF B5 FFFFFCD0                  	PUSH	DWORD [-816+EBP]
   359 0000044D E8 [00000000]                   	CALL	_boxfill8
   360 00000452 83 C4 28                        	ADD	ESP,40
   361 00000455 6A 32                           	PUSH	50
   362 00000457 FF B5 FFFFFCCC                  	PUSH	DWORD [-820+EBP]
   363 0000045D E8 [00000000]                   	CALL	_timer_settime
   364 00000462 68 00000080                     	PUSH	128
   365 00000467 6A 10                           	PUSH	16
   366 00000469 6A 70                           	PUSH	112
   367 0000046B 6A 00                           	PUSH	0
   368 0000046D FF B5 FFFFFCDC                  	PUSH	DWORD [-804+EBP]
   369 00000473 E8 [00000000]                   	CALL	_sheet_refresh
   370 00000478                                 L26:
   371 00000478 83 C4 1C                        	ADD	ESP,28
   372 0000047B E9 FFFFFF16                     	JMP	L2
   373 00000480                                 L24:
   374 00000480 6A 01                           	PUSH	1
   375 00000482 56                              	PUSH	ESI
   376 00000483 FF B5 FFFFFCCC                  	PUSH	DWORD [-820+EBP]
   377 00000489 E8 [00000000]                   	CALL	_timer_init
   378 0000048E 68 00000080                     	PUSH	128
   379 00000493 6A 0F                           	PUSH	15
   380 00000495 6A 70                           	PUSH	112
   381 00000497 6A 08                           	PUSH	8
   382 00000499 6A 0E                           	PUSH	14
   383 0000049B EB A2                           	JMP	L27
   384 0000049D                                 L32:
   385 0000049D 6A 07                           	PUSH	7
   386 0000049F 68 [00000036]                   	PUSH	LC9
   387 000004A4 6A 0E                           	PUSH	14
   388 000004A6 6A 07                           	PUSH	7
   389 000004A8 6A 60                           	PUSH	96
   390 000004AA 6A 00                           	PUSH	0
   391 000004AC FF B5 FFFFFCDC                  	PUSH	DWORD [-804+EBP]
   392 000004B2 E8 000001B8                     	CALL	_putfonts8_asc_sht
   393 000004B7 C7 85 FFFFFCE0 00000000         	MOV	DWORD [-800+EBP],0
   394 000004C1 EB B5                           	JMP	L26
   395 000004C3                                 L31:
   396 000004C3 6A 08                           	PUSH	8
   397 000004C5 8D 5D C4                        	LEA	EBX,DWORD [-60+EBP]
   398 000004C8 68 [0000003E]                   	PUSH	LC7
   399 000004CD 6A 0E                           	PUSH	14
   400 000004CF 6A 07                           	PUSH	7
   401 000004D1 6A 50                           	PUSH	80
   402 000004D3 6A 00                           	PUSH	0
   403 000004D5 FF B5 FFFFFCDC                  	PUSH	DWORD [-804+EBP]
   404 000004DB E8 0000018F                     	CALL	_putfonts8_asc_sht
   405 000004E0 FF B5 FFFFFCE0                  	PUSH	DWORD [-800+EBP]
   406 000004E6 68 [00000047]                   	PUSH	LC8
   407 000004EB 53                              	PUSH	EBX
   408 000004EC E8 [00000000]                   	CALL	_sprintf
   409 000004F1 83 C4 28                        	ADD	ESP,40
   410 000004F4 6A 0A                           	PUSH	10
   411 000004F6 53                              	PUSH	EBX
   412 000004F7 6A 0E                           	PUSH	14
   413 000004F9 6A 07                           	PUSH	7
   414 000004FB 6A 1C                           	PUSH	28
   415 000004FD 6A 28                           	PUSH	40
   416 000004FF FF B5 FFFFFCD4                  	PUSH	DWORD [-812+EBP]
   417 00000505 E8 00000165                     	CALL	_putfonts8_asc_sht
   418 0000050A E9 FFFFFF69                     	JMP	L26
   419 0000050F                                 L30:
   420 0000050F 68 [00000000]                   	PUSH	_mousefifo
   421 00000514 E8 [00000000]                   	CALL	_fifo8_get
   422 00000519 89 C3                           	MOV	EBX,EAX
   423 0000051B E8 [00000000]                   	CALL	_io_sti
   424 00000520 0F B6 C3                        	MOVZX	EAX,BL
   425 00000523 50                              	PUSH	EAX
   426 00000524 8D 85 FFFFFE14                  	LEA	EAX,DWORD [-492+EBP]
   427 0000052A 50                              	PUSH	EAX
   428 0000052B E8 [00000000]                   	CALL	_mouse_decode
   429 00000530 83 C4 0C                        	ADD	ESP,12
   430 00000533 85 C0                           	TEST	EAX,EAX
   431 00000535 0F 84 FFFFFE5B                  	JE	L2
   432 0000053B FF B5 FFFFFE1C                  	PUSH	DWORD [-484+EBP]
   433 00000541 FF B5 FFFFFE18                  	PUSH	DWORD [-488+EBP]
   434 00000547 68 [0000004D]                   	PUSH	LC5
   435 0000054C 8D 5D C4                        	LEA	EBX,DWORD [-60+EBP]
   436 0000054F 53                              	PUSH	EBX
   437 00000550 E8 [00000000]                   	CALL	_sprintf
   438 00000555 83 C4 10                        	ADD	ESP,16
   439 00000558 8B 85 FFFFFE20                  	MOV	EAX,DWORD [-480+EBP]
   440 0000055E A9 00000001                     	TEST	EAX,1
   441 00000563 74 04                           	JE	L11
   442 00000565 C6 45 C5 4C                     	MOV	BYTE [-59+EBP],76
   443 00000569                                 L11:
   444 00000569 A9 00000002                     	TEST	EAX,2
   445 0000056E 74 04                           	JE	L12
   446 00000570 C6 45 C7 52                     	MOV	BYTE [-57+EBP],82
   447 00000574                                 L12:
   448 00000574 83 E0 04                        	AND	EAX,4
   449 00000577 74 04                           	JE	L13
   450 00000579 C6 45 C6 43                     	MOV	BYTE [-58+EBP],67
   451 0000057D                                 L13:
   452 0000057D 6A 0F                           	PUSH	15
   453 0000057F 53                              	PUSH	EBX
   454 00000580 6A 0E                           	PUSH	14
   455 00000582 6A 07                           	PUSH	7
   456 00000584 6A 20                           	PUSH	32
   457 00000586 6A 20                           	PUSH	32
   458 00000588 FF B5 FFFFFCDC                  	PUSH	DWORD [-804+EBP]
   459 0000058E E8 000000DC                     	CALL	_putfonts8_asc_sht
   460 00000593 8B 85 FFFFFE18                  	MOV	EAX,DWORD [-488+EBP]
   461 00000599 03 BD FFFFFE1C                  	ADD	EDI,DWORD [-484+EBP]
   462 0000059F 83 C4 1C                        	ADD	ESP,28
   463 000005A2 01 85 FFFFFCE8                  	ADD	DWORD [-792+EBP],EAX
   464 000005A8 78 71                           	JS	L33
   465 000005AA                                 L14:
   466 000005AA 85 FF                           	TEST	EDI,EDI
   467 000005AC 78 69                           	JS	L34
   468 000005AE                                 L15:
   469 000005AE 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   470 000005B5 48                              	DEC	EAX
   471 000005B6 39 85 FFFFFCE8                  	CMP	DWORD [-792+EBP],EAX
   472 000005BC 7E 06                           	JLE	L16
   473 000005BE 89 85 FFFFFCE8                  	MOV	DWORD [-792+EBP],EAX
   474 000005C4                                 L16:
   475 000005C4 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   476 000005CB 48                              	DEC	EAX
   477 000005CC 39 C7                           	CMP	EDI,EAX
   478 000005CE 7E 02                           	JLE	L17
   479 000005D0 89 C7                           	MOV	EDI,EAX
   480 000005D2                                 L17:
   481 000005D2 57                              	PUSH	EDI
   482 000005D3 FF B5 FFFFFCE8                  	PUSH	DWORD [-792+EBP]
   483 000005D9 68 [0000005B]                   	PUSH	LC6
   484 000005DE 53                              	PUSH	EBX
   485 000005DF E8 [00000000]                   	CALL	_sprintf
   486 000005E4 6A 0A                           	PUSH	10
   487 000005E6 53                              	PUSH	EBX
   488 000005E7 6A 0E                           	PUSH	14
   489 000005E9 6A 07                           	PUSH	7
   490 000005EB 6A 00                           	PUSH	0
   491 000005ED 6A 00                           	PUSH	0
   492 000005EF FF B5 FFFFFCDC                  	PUSH	DWORD [-804+EBP]
   493 000005F5 E8 00000075                     	CALL	_putfonts8_asc_sht
   494 000005FA 83 C4 2C                        	ADD	ESP,44
   495 000005FD 57                              	PUSH	EDI
   496 000005FE FF B5 FFFFFCE8                  	PUSH	DWORD [-792+EBP]
   497 00000604 FF B5 FFFFFCD8                  	PUSH	DWORD [-808+EBP]
   498 0000060A E8 [00000000]                   	CALL	_sheet_slide
   499 0000060F 83 C4 0C                        	ADD	ESP,12
   500 00000612 E9 FFFFFD7F                     	JMP	L2
   501 00000617                                 L34:
   502 00000617 31 FF                           	XOR	EDI,EDI
   503 00000619 EB 93                           	JMP	L15
   504 0000061B                                 L33:
   505 0000061B C7 85 FFFFFCE8 00000000         	MOV	DWORD [-792+EBP],0
   506 00000625 EB 83                           	JMP	L14
   507 00000627                                 L29:
   508 00000627 68 [00000000]                   	PUSH	_keyfifo
   509 0000062C E8 [00000000]                   	CALL	_fifo8_get
   510 00000631 89 C3                           	MOV	EBX,EAX
   511 00000633 E8 [00000000]                   	CALL	_io_sti
   512 00000638 53                              	PUSH	EBX
   513 00000639 8D 5D C4                        	LEA	EBX,DWORD [-60+EBP]
   514 0000063C 68 [00000066]                   	PUSH	LC4
   515 00000641 53                              	PUSH	EBX
   516 00000642 E8 [00000000]                   	CALL	_sprintf
   517 00000647 6A 02                           	PUSH	2
   518 00000649 53                              	PUSH	EBX
   519 0000064A 6A 0E                           	PUSH	14
   520 0000064C 6A 07                           	PUSH	7
   521 0000064E 6A 20                           	PUSH	32
   522 00000650 6A 00                           	PUSH	0
   523 00000652 FF B5 FFFFFCDC                  	PUSH	DWORD [-804+EBP]
   524 00000658 E8 00000012                     	CALL	_putfonts8_asc_sht
   525 0000065D 83 C4 2C                        	ADD	ESP,44
   526 00000660 E9 FFFFFD31                     	JMP	L2
   527 00000665                                 L28:
   528 00000665 E8 [00000000]                   	CALL	_io_sti
   529 0000066A E9 FFFFFD27                     	JMP	L2
   530 0000066F                                 	GLOBAL	_putfonts8_asc_sht
   531 0000066F                                 _putfonts8_asc_sht:
   532 0000066F 55                              	PUSH	EBP
   533 00000670 89 E5                           	MOV	EBP,ESP
   534 00000672 57                              	PUSH	EDI
   535 00000673 56                              	PUSH	ESI
   536 00000674 53                              	PUSH	EBX
   537 00000675 83 EC 0C                        	SUB	ESP,12
   538 00000678 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   539 0000067B 8B 7D 10                        	MOV	EDI,DWORD [16+EBP]
   540 0000067E 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   541 00000681 8B 5D 14                        	MOV	EBX,DWORD [20+EBP]
   542 00000684 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   543 00000687 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   544 0000068A 8B 45 1C                        	MOV	EAX,DWORD [28+EBP]
   545 0000068D 89 45 E8                        	MOV	DWORD [-24+EBP],EAX
   546 00000690 8D 47 0F                        	LEA	EAX,DWORD [15+EDI]
   547 00000693 50                              	PUSH	EAX
   548 00000694 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   549 00000697 8B 75 20                        	MOV	ESI,DWORD [32+EBP]
   550 0000069A 0F BE DB                        	MOVSX	EBX,BL
   551 0000069D 8D 34 F0                        	LEA	ESI,DWORD [EAX+ESI*8]
   552 000006A0 8D 46 FF                        	LEA	EAX,DWORD [-1+ESI]
   553 000006A3 50                              	PUSH	EAX
   554 000006A4 57                              	PUSH	EDI
   555 000006A5 FF 75 EC                        	PUSH	DWORD [-20+EBP]
   556 000006A8 0F B6 45 18                     	MOVZX	EAX,BYTE [24+EBP]
   557 000006AC 50                              	PUSH	EAX
   558 000006AD 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   559 000006B0 FF 70 04                        	PUSH	DWORD [4+EAX]
   560 000006B3 FF 30                           	PUSH	DWORD [EAX]
   561 000006B5 E8 [00000000]                   	CALL	_boxfill8
   562 000006BA FF 75 E8                        	PUSH	DWORD [-24+EBP]
   563 000006BD 53                              	PUSH	EBX
   564 000006BE 57                              	PUSH	EDI
   565 000006BF FF 75 EC                        	PUSH	DWORD [-20+EBP]
   566 000006C2 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   567 000006C5 FF 70 04                        	PUSH	DWORD [4+EAX]
   568 000006C8 FF 30                           	PUSH	DWORD [EAX]
   569 000006CA E8 [00000000]                   	CALL	_putfonts8_asc
   570 000006CF 89 7D 10                        	MOV	DWORD [16+EBP],EDI
   571 000006D2 8D 47 10                        	LEA	EAX,DWORD [16+EDI]
   572 000006D5 89 75 14                        	MOV	DWORD [20+EBP],ESI
   573 000006D8 89 45 18                        	MOV	DWORD [24+EBP],EAX
   574 000006DB 83 C4 34                        	ADD	ESP,52
   575 000006DE 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   576 000006E1 89 45 0C                        	MOV	DWORD [12+EBP],EAX
   577 000006E4 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   578 000006E7 89 45 08                        	MOV	DWORD [8+EBP],EAX
   579 000006EA 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   580 000006ED 5B                              	POP	EBX
   581 000006EE 5E                              	POP	ESI
   582 000006EF 5F                              	POP	EDI
   583 000006F0 5D                              	POP	EBP
   584 000006F1 E9 [00000000]                   	JMP	_sheet_refresh
